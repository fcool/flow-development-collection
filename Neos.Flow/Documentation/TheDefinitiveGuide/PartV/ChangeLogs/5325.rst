`5.3.25 (2021-04-09) <https://github.com/neos/flow-development-collection/releases/tag/5.3.25>`_
================================================================================================

Overview of merged pull requests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

`BUGFIX: Use lazy EntityManager injection to prevent recursive instanciation <https://github.com/neos/flow-development-collection/pull/2452>`_
----------------------------------------------------------------------------------------------------------------------------------------------

With the changes in #2423 the PersistenceManager was registered as a Doctrine EventListener.
Hence, when building the EntityManager, the PersistenceManager got instanciated with a completely new non-lazy EntityManager. This caused errors when trying to persist entities, as they were not known to that instance of the EntityManager.
This change makes the EntityManager instanciation lazy again and handles the type mismatch of the lazy DependencyProxy in the SchemaTool.

This is an alternative fix to #2448

* Packages: ``Flow``

`Detailed log <https://github.com/neos/flow-development-collection/compare/5.3.24...5.3.25>`_
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
